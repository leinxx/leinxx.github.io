{{ define "main" }}
<main class="main archives">

<style>
  .archives h2 {
    font-size: 1.55rem;
    margin: 0;
    padding: 0;
  }
  .archives h3 {
    font-size: 1.1rem;
    margin: 0;              /* å»æ‰ margin-bottomï¼Œä¼šå½±å“å¯¹é½ */
    padding: 0;
  }
  .archives h2 sup,
  .archives h3 sup {
    font-size: 0.65em;
    margin-left: 6px;
    vertical-align: super;
    color: #666;
    font-weight: 600;
  }

  .archives .archive-year {
    margin-bottom: 2rem;
  }

  /* ğŸ”´ å…³é”®ï¼šç”¨ flex + baselineï¼Œå¯¹é½ Month å’Œç¬¬ä¸€ä¸ª post title */
  .archives .archive-month {
    margin-top: 1rem;
    margin-bottom: 2rem;
    padding-left: 0;
    display: flex;
    align-items: baseline;    /* æœˆä»½æ–‡å­—å’Œå³è¾¹ç¬¬ä¸€è¡Œçš„ baseline å¯¹é½ */
    column-gap: 2.5rem;       /* æ§åˆ¶æœˆä»½å’Œ post åˆ—ä¹‹é—´çš„æ°´å¹³é—´è· */
  }

  /* å·¦è¾¹æœˆä»½åˆ—å›ºå®šå®½åº¦ */
  .archives .archive-month > h3 {
    flex: 0 0 120px;          /* æƒ³å†å®½/çª„å°±æ”¹è¿™ä¸ªæ•° */
  }

  /* å³è¾¹ post åˆ— */
  .archives .archive-list {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    margin: 0;                /* é˜²æ­¢å¤šå‡ºæ¥çš„ margin-top å½±å“å¯¹é½ */
  }

  .archives .archive-entry {
    padding: 0.75rem 0;
    /*border-bottom: 1px solid rgba(0,0,0,0.08);*/
  }

  /* ç¬¬ä¸€ç¯‡ post é¡¶åˆ° Month åŒä¸€æ°´å¹³çº¿ */
  .archives .archive-entry:first-child {
    padding-top: 0;           /* è¿™é‡Œå¯ä»¥æ ¹æ®è‚‰çœ¼å†å¾®è°ƒæˆ 0.05rem / -0.05rem */
  }

  .archives .archive-title {
    display: block;
    font-size: 1.1rem;
    font-weight: 600;
    color: inherit;
    text-decoration: none;
    margin: 0 0 0.25rem 0;    /* ä¿è¯æ ‡é¢˜æœ¬èº«æ²¡æœ‰é¢å¤–ä¸Šè¾¹è· */
    text-align: left;
  }

  .archives .archive-title:hover {
    text-decoration: underline;
  }

  .archives .archive-meta {
    color: #666;
    font-size: 0.95rem;
    white-space: nowrap;      /* å°½é‡ Date | Reading Time | Author åœ¨ä¸€è¡Œ */
  }
</style>


  <header class="page-header">
    <h1>{{ .Title }}</h1>
    {{ with .Params.description }}<p>{{ . }}</p>{{ end }}
  </header>
  {{ $all := where site.RegularPages "Type" "posts" }}
  {{ $posts := sort (where $all "Draft" false) "Date" "desc" }}
  {{ range $posts.GroupByDate "2006" }}
    <section class="archive-year">
      <h2>{{ .Key }}<sup>{{ len .Pages }}</sup></h2>
      {{ range .Pages.GroupByDate "January" }}
        <div class="archive-month">
          <h3>{{ .Key }}<sup>{{ len .Pages }}</sup></h3>
          <div class="archive-list">
            {{ range .Pages }}
              {{ $author := or .Params.author site.Params.author }}
              <article class="archive-entry">
                <div class="archive-title-line">
                  <a class="archive-title" href="{{ .RelPermalink }}">{{ .Title }}</a>
                </div>
                <div class="archive-meta">
                  Date: {{ .Date.Format "January 2, 2006" }} | Estimated Reading Time: {{ .ReadingTime }} min{{ if $author }} | Author: {{ $author }}{{ end }}
                </div>
              </article>
            {{ end }}
          </div>
        </div>
      {{ end }}
    </section>
  {{ end }}
</main>
{{ end }}
